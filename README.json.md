# Sphinx и JSONB-данные PostgreSQL 

[Предыдущий материал](./README.md):

## Тестовые JSON-данные

```shell
psql -h 192.168.102.99 -p 11111 --user root -d collection
Пароль пользователя root: 
psql (11.11 (Debian 11.11-0+deb10u1), сервер 13.2 (Debian 13.2-1.pgdg100+1))
ПРЕДУПРЕЖДЕНИЕ: psql имеет базовую версию 11, а сервер - 13.
                Часть функций psql может не работать.
Введите "help", чтобы получить справку.

root=# 
```

```postgres-psql

-- DROP SCHEMA json_library CASCADE;

CREATE SCHEMA json_library
    AUTHORIZATION root;

-- DROP TABLE library.documents;

CREATE TABLE json_library.documents
(
    id bigserial NOT NULL,
    income_datetime timestamp with time zone NOT NULL DEFAULT now(),
    data jsonb default '{}'  NOT NULL,
    CONSTRAINT documents_pkey PRIMARY KEY (id)
)
TABLESPACE pg_default;

ALTER TABLE json_library.documents
    OWNER TO root;
```

```postgres-sql

--SET search_path TO collection;
INSERT INTO json_library.documents(data)
VALUES
    ('{"content":"Путь к сердцу мужчины лежит через путь к желудку женщины."}'),
    ('{"content":"В вопросах стиля плыви по течению; в вопросах принципа стой твердо, как скала."}'),
    ('{"content":"В наше время, чтение книги — это маленькая революция. Чтение создаёт умных людей, а умный человек — это всегда угроза для общества."}'),
    ('{"content":"Скажи отцу, чтоб впредь предохранялся…"}'),
    ('{"content":"Смотрю, ты слова плохо понимаешь? Сейчас попробую объяснить на пальцах — ты мой средний палец хорошо видишь?"}'),
    ('{"content":"Когда кто-то идет не в ногу, не спеши осуждать его: возможно он слышит звук другого марша. (Генри Торо)"}'),
    ('{"content":"Если тебе говорят «пошли», то необязательно пошлить, достаточно просто послать."}'),
    ('{"content":"В любом из нас спит гений. И с каждым днем все крепче."}'),
    ('{"content":"Тише едешь — меньше должен."}'),
    ('{"content":"Хочется верить, что будет хотеться и дальше."}'),
    ('{"content":"Я намерен жить вечно — пока всё идет нормально."}'),
    ('{"content":"Да ничего, ничего, я на Вас не обижаюсь. У меня еще и сосед дебил…"}'),
    ('{"content":"Знание некоторых принципов легко компенсирует незнание некоторых фактов."}'),
    ('{"content":"Тебе пришла в голову мысль? Наверное, чтобы умереть там окончательно."}'),
    ('{"content":"Контрольное изнасилование в голову."}'),
    ('{"content":"Извините, что я говорю, когда вы перебиваете."}'),
    ('{"content":"Человек меньше всего похож на себя, когда говорит от своего имени. Дайте ему маску, и он расскажет всю правду. (Оскар Уайлд)"}'),
    ('{"content":"Чтобы не переутомиться, спать надо восемь часов в день, и ещё столько же ночью."}'),
    ('{"content":"В каждую погоду благо дать."}'),
    ('{"content":"Все ответы находятся в тебе. Ты знаешь больше, чем написано в книгах. Но чтобы вспомнить это — нужно читать книги, слушать себя и доверять себе."}'),
    ('{"content":"Оптимисты изобретают самолеты, а пессимисты – парашюты."}'),
    ('{"content":"Один в поле — а вони…"}'),
    ('{"content":"Девушка, давайте скрепим нашу дружбу половым актом."}'),
    ('{"content":"Заройся в мох и плюйся клюквой…"}'),
    ('{"content":"Быть честным хочется… Но меньше, чем богатым."}'),
    ('{"content":"Все мы произносим слова и фразы, которые люди понимают совсем не так, как нам хотелось бы."}'),
    ('{"content":"Ты уже позвонил своему психотерапевту?"}'),
    ('{"content":"Как много девушек хороших, мечтают в тайне о плохом."}'),
    ('{"content":"Если чувствуешь, что это твоё, не слушай тех, кто будет отговаривать. (Макс Шупбах)"}'),
    ('{"content":"В мире есть только один человек, способный потянуть тебя на дно или вытянуть на верх — это ты сам. (А. Кадочников)"}'),
    ('{"content":"Мечтаю стать бумерангом. Тебя кидают, а ты им — обратно, в морду."}'),
    ('{"content":"Ты что, потеряла список кого бояться надо? Тебе напомнить?"}'),
    ('{"content":"Если тебе лизнули зад, не расслабляйся — это смазка!"}'),
    ('{"content":"Многие еще живы только потому, что убийство уголовно наказуемо."}'),
    ('{"content":"Если окружающие считают тебя странным, возможно это не твоя проблема!"}'),
    ('{"content":"Все думают только о себе! Лишь я думаю только обо мне.Дедушка Бабай и Вафай"}'),
    ('{"content":"Главное — верить в себя. Мнение окружающих меняется ежедневно."}'),
    ('{"content":"Девушка, вы такая фешенебельная, что мне не рентабельно."}'),
    ('{"content":"Настоящий интеллигент никогда не скажет — «как была дура-дурой, так ею и осталась», он скажет — «время над ней не властно»."}'),
    ('{"content":"У меня есть один недостаток: я не умею общаться с дураками."}'),
    ('{"content":"А у меня… кажется, нет характера…- Заведи. Вещь — полезная… (М. Горький «На дне»)"}'),
    ('{"content":"После общения с некоторыми людьми у меня появляется ярко выраженный комплекс полноценности."}'),
    ('{"content":"Любишь кататься — катись к чертовой матери"}'),
    ('{"content":"Я знал, что она такая, но не знал, что настолько."}'),
    ('{"content":"Я в сотый раз убеждаюсь, что кроме высшего образования нужно иметь хотя бы среднюю сообразительность."}'),
    ('{"content":"Как бы так себя похвалить, чтобы самому тошно не стало?"}'),
    ('{"content":"Единственный человек, с которым ты должен сравнивать себя, это ты в прошлом. И единственный человек, лучше которого ты должен быть, это ты."}'),
    ('{"content":"Никогда не рассказывайте о себе ни хорошего, ни плохого. В первом случае вам не поверят, а во втором — приукрасят."}'),
    ('{"content":"Видеть в море одну лишь массу воды — значит совсем не видеть моря. (Виктор Гюго)"}'),
    ('{"content":"Думаю, мне хватит самого лучшего."}'),
    ('{"content":"Люди, неспособные мотивировать себя, должны довольствоваться посредственностью, независимо от того, насколько выразительны их прочие таланты. (Эндрю Карнеги)"}'),
    ('{"content":"Если вы чего-то не понимаете, спросите меня и нас станет двое."}'),
    ('{"content":"Помните выпуск Ералаш, когда мальчик никак не мог рассказать возлюбленной о своих чувствах и попросил друга."}'),
    ('{"content":"Чтоб оно вам поперек горла встало, когда какать пойдете."}'),
    ('{"content":"Если у тебя совсем нет яиц, тебе нужен тот, у кого их два."}'),
    ('{"content":"Почему ты всегда носишь черное? — «Потому что я всегда готов к твоим похоронам»."}'),
    ('{"content":"В здоровом теле — здоровый стул…"}'),
    ('{"content":"Упавший духом гибнет раньше срока."}'),
    ('{"content":"Отказ от удовольствий в пользу обязанностей действует на психику разрушающе."}'),
    ('{"content":"Гляжу на тебя и понимаю — у Бога хорошее чувство юмора."}'),
    ('{"content":"Ничего на свете лучше нету, чем скрипеть кроватью до рассвета."}'),
    ('{"content":"Ни стыда. Ни совести. Ничего лишнего."}'),
    ('{"content":"Не бойтесь потерять тех, кто не побоялся потерять вас."}'),
    ('{"content":"Тебе пошли бы искорки из глаз."}'),
    ('{"content":"Готовые слезы указывают на хитрость, а не на печаль. (Публилий Сир)"}'),
    ('{"content":"Если вы не можете объяснить пятилетнему ребенку свою мысль, значит, вы сами ее не очень-то понимаете. (Альберт Эйнштейн)"}'),
    ('{"content":"Разумный человек гонится за тем, что избавляет его от страданий, а не за тем, что приятно. (Аристотель)"}'),
    ('{"content":"И когда количество твоих слов перейдет в качество?"}'),
    ('{"content":"Девушка, что вы на меня смотрите, как будто у вас родители на дачу уехали."}'),
    ('{"content":"Хорошего человека и обидеть приятно."}'),
    ('{"content":"Дураки — не мамонты, сами не вымрут…"}'),
    ('{"content":"Не хлопай по спине — крылья сломаешь."}'),
    ('{"content":"А у тебя харя не треснет по диагонали зигзагом?!"}'),
    ('{"content":"Хотелось бы верить, что будет хотеться и дальше.Кошки закапывают"}'),
    ('{"content":"Кораблю безопасней в порту, но он не для этого строился. (Грейс Хоппер)"}'),
    ('{"content":"Самооценку снизь, не соответствуешь."}'),
    ('{"content":"А вам приходилось снимать обручальное кольцо, не вынимая руки из кармана?"}'),
    ('{"content":"Твои глаза похожи на двух призывников. Один косит, второй реально голубой"}'),
    ('{"content":"На кого шуршишь, пакетик?"}'),
    ('{"content":"Я Вам всем очень благодарен, но хотел бы попробовать поработать в"}'),
    ('{"content":"Когда будете делать ход — убедитесь, что он правильный."}'),
    ('{"content":"Золотое правило девушки: не знаешь, что сказать — улыбнись и поправь лифчик."}'),
    ('{"content":"Спрашивать «быть или не быть» или не спрашивать?"}'),
    ('{"content":"Ничего не понял, питекантроп социально неадаптированный?"}'),
    ('{"content":"Тебя и в мыслях даже не имел."}'),
    ('{"content":"Только о двух вещах мы будем жалеть на смертном одре — что мало любили и мало путешествовали. (Марк Твен)"}'),
    ('{"content":"Может найдем общий язык? — «Разумеется, мы найдем общий язык, если вы прикусите свой»."}'),
    ('{"content":"У тебя айкью как у хлебушка, ниже плинтуса."}'),
    ('{"content":"Прикольно двигаешь ртом. А-а-а… Это ты так говоришь."}'),
    ('{"content":"Чего греха таить, коль вы согласны."}'),
    ('{"content":"Да покарает тебя стоматолог!"}'),
    ('{"content":"Не принимай никакой негатив. Пока ты его не примешь, он принадлежит тому, кто его принес. (Будда)"}'),
    ('{"content":"Вы мне напоминаете меня во младенчестве — тоже норовите всё обоср*ть."}'),
    ('{"content":"Самый подходящий момент наступает в самое неподходящее время."}'),
    ('{"content":"Девушка, вы верите в любовь с первым встречным?"}'),
    ('{"content":"Если вы хотите узнать недостатки девушки, похвалите её перед подругами."}'),
    ('{"content":"Завтра — одно из самых опасных слов на свете. Парализует волю похлеще иного заклинания, склоняет к бездействию, в зародыше уничтожает планы и идеи."}'),
    ('{"content":"Умение прощать — свойство сильных. Слабые никогда не прощают. (Махатма Ганди)"}'),
    ('{"content":"Как было бы замечательно, если бы и женские киски тоже мяукали, когда проголодаются."}'),
    ('{"content":"Острая интеллектуальная недостаточность."}'),
    ('{"content":"Воскребота — Ночь с субботы на воскресенье."}'),
    ('{"content":"Если не знаешь, что хочешь, получишь, что останется."}'),
    ('{"content":"В мире есть еще множество грабель, на которые не ступала нога человека. (Станислав Ежи Лец)"}'),
    ('{"content":"Ах, он меня лишил иммунитета…"}'),
    ('{"content":"Влюбленные — это двое, которые любят себя при помощи друг друга."}'),
    ('{"content":"Каждый человек по-своему прав, а по-моему нет."}'),
    ('{"content":"Сокращайте речь до смысла, чтобы понятнее было."}'),
    ('{"content":"Умный мужчина — это так сексуально!"}'),
    ('{"content":"Глядя на тебя, мне остается только порадоваться за себя."}'),
    ('{"content":"Ты сейчас нахамить пытался или просто использовал длинные слова, смысл которых тебе не понятен?"}'),
    ('{"content":"Мы становимся похожими на тех людей, с которыми общаемся. Выбирайте свое окружение – какими мы не были бы уникальными, оно все равно влияет на нас."}'),
    ('{"content":"У меня силы столько, что могу очком лом перекусить."}'),
    ('{"content":"Напилась — веди себя доступно.Люди без фантазии"}'),
    ('{"content":"И никакая это не сентенция, просто мы не хотим, чтобы вас когда-нибудь настигли депривация и фру."}'),
    ('{"content":"Я ведь почему такой злой был? — Потому что у меня велосипед был без сиденья."}'),
    ('{"content":"ИДИОТ — идеальный друг и отличный товарищ."}'),
    ('{"content":"Спроси у меня в долг, и я тебе посочувствую."}'),
    ('{"content":"Будете проходить мимо — проходите мимо."}'),
    ('{"content":"Капля долбит камень не силою, а часто падая. (Джордано Бруно)"}'),
    ('{"content":"Ничто так не бодрит с утра, как незамеченный дверной косяк."}'),
    ('{"content":"Ничто так сильно не разрушает человека, как продолжительное бездействие. (Аристотель)"}'),
    ('{"content":"Женщины часто думают, почему они не думали, когда надо было думать."}'),
    ('{"content":"Один из способов решить проблему — пообещать решить её завтра."}'),
    ('{"content":"Кто рано встаёт — тот всех достаёт."}'),
    ('{"content":"Пока в твоей жизни не найдется места для человека, который был бы для тебя не менее важен, чем ты сам, ты всегда будешь одинок. (Ричард Бах «Мост через вечность»)"}'),
    ('{"content":"Тому, что действительно нужно знать, никто не научит. (Оскар Уайльд)"}'),
    ('{"content":"Мы всё отлично понимаем, но это нам нисколько не мешает."}'),
    ('{"content":"С точки зрения геометрической прогрессии, если посмотреть сверху, то снизу покажется, что сбоку ничего не видно."}'),
    ('{"content":"Если весь мир — дерьмо, считай, что все мы — мухи."}'),
    ('{"content":"Широта моей души не знает пределов вашей благодарности."}'),
    ('{"content":"Хочешь сделать лучше всех — сделай сам."}'),
    ('{"content":"Не рассказывай о том, что задумал: не бывает успеха у замысла, что открыт другому."}'),
    ('{"content":"Перед сильным не кланяйся, перед трудностями не сгибайся."}'),
    ('{"content":"У тебя родители не физики? А то выглядишь как неудавшийся научный эксперимент."}'),
    ('{"content":"Настоящий мужчина никогда не поднимет на женщину руку, потому что у настоящего мужчины поднимается совсем не рука…"}'),
    ('{"content":"Я бы тебя сильно обидел. Но, вижу, ты и так жизнью обижен."}'),
    ('{"content":"Давайте перейдем на «ты», а то мне по морде вам дать не ловко."}'),
    ('{"content":"У тебя, милок, острая интеллектуальная недостаточность."}'),
    ('{"content":"Не стоит бояться перемен. Чаще всего они случаются именно в тот момент, когда они необходимы. (Конфуций)"}'),
    ('{"content":"Иди-ка ты к жене с таким букетом!"}'),
    ('{"content":"Подозревать хуже, чем знать. У реальности есть границы, у воображения — нет."}'),
    ('{"content":"Цену состояния узнают тогда, когда его приобрели, а цену друга; когда его потеряли."}'),
    ('{"content":"Привычка находить во всем только смешную сторону — самый верный признак мелкой души, ибо смешное лежит на поверхности. (Аристотель)"}'),
    ('{"content":"Я мог бы сделать лучше, но мне помогали."}'),
    ('{"content":"Если бы я согласился с вами, мы оба были бы неправы."}'),
    ('{"content":"Не бойся совершенства — ты никогда его не достигнешь! (Сальвадор Дали)"}'),
    ('{"content":"БАР — Библиотека Алкогольного Раритета."}'),
    ('{"content":"Как же ты меркантилен, мой друг. Запомни: всё, что можно купить за деньги — уже дёшево. (Д. Б. Шоу)"}'),
    ('{"content":"Никто еще не заблудился, следуя своему внутреннему голосу. (Генри Дэвид Торо)"}'),
    ('{"content":"Девушки, играя в поддавки, вы быстрее попадете в дамки."}'),
    ('{"content":"Дорогая, что за фигня? — Встаю ночью, хочу в раковину пописать, а посуда не вымыта."}'),
    ('{"content":"Треунгаляционная симпелляция деструбных гентронов ротора турбулентности дивергенции — элементарнейшая вещь.Плохо слышат"}'),
    ('{"content":"Чем старше и мудрее человек, тем меньше ему хочется выяснять отношения. Хочется просто встать, пожелать удачи и уйти."}'),
    ('{"content":"Не люблю я любить девушек, которые любят не любить меня."}'),
    ('{"content":"Я уверен: книгу ничто не заменит в будущем, так же как ничто не могло заменить её в прошлом."}'),
    ('{"content":"Основная причина совершаемых человеком ошибок кроется в постоянной борьбе чувств с разумом. (Блез Паскаль «Мысли»)"}'),
    ('{"content":"Не важно как ваши дела сейчас — держать себя и выглядеть нужно словно тот, кем вы хотите быть."}'),
    ('{"content":"Я не тормоз — я просто плавно мыслю."}'),
    ('{"content":"Всякого рода грубость тает, словно на огне, под влиянием ежедневного чтения хороших книг. (Виктор Мари Гюго)"}'),
    ('{"content":"Не будите во мне зверя — он и так не высыпается."}'),
    ('{"content":"Армейская дисциплина тяжела, но это тяжесть щита, а не ярма."}'),
    ('{"content":"В жизни всегда есть место подвигу, но некоторые всё же предпочитают оставаться холостыми…"}'),
    ('{"content":"Тебе за себя не стыдно?"}'),
    ('{"content":"Сейчас очки в два кармана положишь!"}'),
    ('{"content":"Будучи искушаем комарами, впал в грех сквернословия."}'),
    ('{"content":"Век бы на тебя смотрел — сквозь оптический прицел…"}'),
    ('{"content":"Кто много спрашивает — тому много врут."}'),
    ('{"content":"Тебя, наверное, на спор зачали."}'),
    ('{"content":"Чтобы найти у женщины пупок, нужно поставить указательный палец ей на затылок и медленно опускать вниз. Третья дырка — это пупок."}'),
    ('{"content":"Как же много в мире безмозглых мудрецов!"}'),
    ('{"content":"У меня такое неприятное чувство, что вы правы."}'),
    ('{"content":"Я оказался здесь, благодаря квантовому прыжку."}'),
    ('{"content":"Кроме высшего образования надо иметь хотя бы среднюю сообразительность."}'),
    ('{"content":"Я не знаю, как должно быть, но вы делаете неправильно."}'),
    ('{"content":"В чём разница между «Нравится» и «Люблю»? Когда вам нравится цветок, вы его срываете. Но если вы любите цветок, вы ежедневно его поливаете."}'),
    ('{"content":"Никогда не живи с человеком — ради денег, детей и жалости. Деньги пресытятся, дети вырастут, а жалость превратится в гнев!"}'),
    ('{"content":"Ну, теперь ты довольна, милая?» — «Да, теперь я довольно милая»."}'),
    ('{"content":"Я всё отдам, но где мне это взять?"}'),
    ('{"content":"В такую погоду только тещу за пивом гонять."}'),
    ('{"content":"Ты мне напоминаешь меня в двухлетнем возрасте — тоже норовишь всё обо$рать."}'),
    ('{"content":"Асфальта бояться — вообще не ходить."}'),
    ('{"content":"По тебе хор калифорнийских геев плачет…"}'),
    ('{"content":"У каждого свой рецепт для счастья. У меня на потолке написано: завтра бросаю жрать. Каждое утро, просыпаясь, вижу эту надпись и думаю: хорошо, что завтра, а не сегодня."}'),
    ('{"content":"Счастливый актер — это мёртвый актер, потому что только после смерти нельзя измениться. После смерти я, наверное, буду кисточкой."}'),
    ('{"content":"Ты тянешь лишь на секс-петарду…"}'),
    ('{"content":"Зачем мечтать о чем-то высоком, когда самое приятное снизу."}'),
    ('{"content":"Нам не дано предугадать, кому и где придется дать."}'),
    ('{"content":"Счастья вам и здоровья в личной жизни."}'),
    ('{"content":"Судьба — очень удобное слово для тех, кто никогда не принимает решений. (Джоди Фостер)Получить имеем"}'),
    ('{"content":"Чужого нам не надо, но свое мы возьмем, чье бы оно ни было."}'),
    ('{"content":"Вы, слава богу, уходите или, не дай бог, остаетесь?"}'),
    ('{"content":"Захочешь — найдешь время, не захочешь — найдешь причину. (Бернард Шоу)"}'),
    ('{"content":"Некоторые люди наглеют, если их ежедневно кормить."}'),
    ('{"content":"Никогда не спрашивайте человека, за что он вас любит: стоит ему над этим задуматься, как может оказаться, что любить вас не за что."}'),
    ('{"content":"Мне кажется, что у некоторых людей голова — это лишь декоративное приложение к заднице."}'),
    ('{"content":"Если останавливаться всякий раз, когда тебя оскорбляют или в тебя плюются, то ты никогда не дойдёшь до места, куда тебе надо попасть."}'),
    ('{"content":"Забей на то, что думают другие люди — и жить станет легче."}'),
    ('{"content":"Сегодня утром по зеркалу такие ужасы показывали."}'),
    ('{"content":"Когда совсем падете духом, приходите ко мне в больницу. Один обход ракового отделения в два счета лечит от любой хандры. (Ремарк «Земля обетованная»)"}'),
    ('{"content":"Не хочешь заняться спасением природы? У меня есть знакомый хирург, он может тебя стерилизовать."}'),
    ('{"content":"Чем чаще женщину мы это, тем реже женщина того."}'),
    ('{"content":"Бегу и волосы назад — Отказ сделать что-нибудь в грубой форме"}'),
    ('{"content":"Пусть мир — дерьмо. Считай, что все мы — мухи."}'),
    ('{"content":"Всей своей жизнью Пушкин учит нас тому, что талантливому человеку нужно сначала научиться стрелять."}'),
    ('{"content":"Береги родину — отдыхай за границей."}'),
    ('{"content":"Да, красотой мир вы не спасёте…"}'),
    ('{"content":"То, что сжимают, — расширяется. То, что ослабляют, — укрепляется. То, что уничтожают, — расцветает. Кто хочет отнять что-нибудь у другого, непременно потеряет свое. (Лао Цзы)"}'),
    ('{"content":"Трусливый друг страшнее врага, ибо врага опасаешься, а на друга надеешься."}'),
    ('{"content":"Мозгами шевелил — перемешались."}'),
    ('{"content":"Пруха есть — ума не надо."}'),
    ('{"content":"Еще один звук с своей платформы и твой зубной состав тронется!"}'),
    ('{"content":"Порядочность — это когда потом чувствуешь себя идиотом."}'),
    ('{"content":"Обуздывать надо бурю, а не жалкий сквозняк."}'),
    ('{"content":"Лучше раз в полгода думать о женитьбе, чем раз в неделю о разводе."}'),
    ('{"content":"Я пришел к тебе с приветом рассказать, что солнце встало и на двадцать сантиметров приподняло одеяло."}'),
    ('{"content":"Лучше сделать один раз вовремя, чем два раза правильно."}'),
    ('{"content":"Вы должны изучать правила игры. И тогда вы будете играть лучше, чем кто либо еще. (Альберт Эйнштейн)"}'),
    ('{"content":"Всесторонне недоразвитая личность."}'),
    ('{"content":"Я не поправился — от гордости распёрло."}'),
    ('{"content":"Я — человек доверчивый, но труднообманываемый."}'),
    ('{"content":"БИЧ — бывший интеллигентный человек."}'),
    ('{"content":"Будь как дома, но в холодильник не лазь."}'),
    ('{"content":"Гора не кажется неприступной, если смотреть с ее вершины."}'),
    ('{"content":"Сегодня я благобухаю."}'),
    ('{"content":"Береги брюки сзади, а юбку — спереди.прикольные умные выражения"}'),
    ('{"content":"Мужчины очень хотят знать, о чем думают женщины, а когда узнают — не хотят верить в это."}'),
    ('{"content":"Существовать ради самого себя значит быть ничем. (Беррес Фредерик Скиннер)"}'),
    ('{"content":"Юмор, по сути, — это лекарство от боли. И мы используем его как пластырь. Если человек умеет шутить, то вся его жизнь становится проще и лучше."}'),
    ('{"content":"Разуй айзы — смотри внимательно."}'),
    ('{"content":"Леонардо ты недовинченный!"}'),
    ('{"content":"Никто не запрещает тебе считать себя царем горы, но прошу, знай свою гору."}'),
    ('{"content":"Курить буду, но пить НЕ брошу!"}'),
    ('{"content":"Как жаль, что ты наконец-то уходишь."}'),
    ('{"content":"Противник, вскрывающий ваши ошибки, полезнее для вас, чем друг, желающий их скрыть. (Леонардо да Винчи)"}'),
    ('{"content":"Человек страдает не столько от того, что происходит, сколько от того, как он оценивает то, что с ним происходит. (Мишель де Монтень)"}'),
    ('{"content":"Я хочу тебя! Спроси меня как."}'),
    ('{"content":"Вам пришла в голову мысль?! Умирать пришла?"}'),
    ('{"content":"Остановите время, мне нужно починить часы."}'),
    ('{"content":"Тобой в детстве бабайку не пугали?"}'),
    ('{"content":"Женщины — они такие же как и мы, только приятней на ощупь."}'),
    ('{"content":"Вы называете свою цену, а я называю свою. Потом мы оба смеемся и приступаем к серьезному разговору."}'),
    ('{"content":"Чего ты такой тихий? — «Почему я такая тихоня? Никто не планирует убийства громко»."}'),
    ('{"content":"Только дураки повторяют свои ошибки. Умные совершают новые."}'),
    ('{"content":"Знаете, есть такая пословица: «Тот, кто упорствует в своем безумии, в один прекрасный день окажется мудрецом»."}'),
    ('{"content":"И где же тот добрый волшебник, который вам смелость дал?"}'),
    ('{"content":"Таких, как ты, не будет. И не надо."}'),
    ('{"content":"Я люблю, когда женщина берет инициативу в свои руки, но еще больше, когда женщина берет инициативу в рот."}'),
    ('{"content":"Мы сами придумываем себе проблемы, преграды, комплексы и рамки. Освободи себя, вдохни жизнь и пойми, что ты можешь все."}'),
    ('{"content":"Ногти на ногах не стриги — обещали гололед."}'),
    ('{"content":"Слушай, да ты совсем нервный стал! Тебе это… успокоиться надо. Может тебе съездить куда-нибудь?… В челюсть, например…"}'),
    ('{"content":"Сила не в том, что ты скажешь, а в том, что сделаешь."}'),
    ('{"content":"При общении с людьми важно правильно использовать умные слова и понимать их значение."}'),
    ('{"content":"Чем интересней вопрос, тем очевидней, что задавать его нельзя. (Кингсли Эмис)"}'),
    ('{"content":"К своему стыду мне никогда не стыдно."}'),
    ('{"content":"Как трудно быть порядочной свиньёй…"}'),
    ('{"content":"Семьдесят процентов хитрости лисиц приходится на тупость куриц."}'),
    ('{"content":"Если бы я понимал все шутки, я бы давно умер от смеха."}'),
    ('{"content":"Не называй чужие вещи своими именами!"}'),
    ('{"content":"Источник любви скорее в нас, нежели в любимом существе (Андре Моруа)"}'),
    ('{"content":"Молчание не всегда доказывает присутствие ума, но всегда доказывает отсутствие глупости."}'),
    ('{"content":"Алкоголь приносит радость и горе. Радость мнимую, горе настоящее. (Александр Мельников)Про кексы с мозгами"}'),
    ('{"content":"Жениться интересно только по любви; жениться же на девушке."}'),
    ('{"content":"Ну что сказать: спасибо, что не позже."}'),
    ('{"content":"Если тебе случится рассердиться на кого бы то ни было, рассердись в то же время на самого себя, хотя бы за то, что сумел рассердиться на другого. (Николай Васильевич Гоголь)"}'),
    ('{"content":"Если ты чувствуешь, что достоин, то ты это получишь!"}'),
    ('{"content":"Бодливой корове бог быка не дает."}'),
    ('{"content":"Не будь на словах тем, кем не можешь быть на поступках."}'),
    ('{"content":"А вы в детстве были симпатичной или как сейчас?"}'),
    ('{"content":"Хочешь возглавить колонну людей, идущих на …? А чё так? Ты бы прекрасно смотрелся в роли лидера."}'),
    ('{"content":"Жизнь прекрасна, если не вспоминать прошлое и не думать о будущем."}'),
    ('{"content":"При таком характере ты могла бы быть и покрасивее."}'),
    ('{"content":"Если красивых и умных одновременно не бывает, то значит я не существую?"}'),
    ('{"content":"Природа больше мной не повторится."}'),
    ('{"content":"Ну что ж вернемся к нашим баранам… и возглавим стадо."}'),
    ('{"content":"С твоим лицом регистрироваться в ВК нельзя. Используй лучше фото своей бабушки."}'),
    ('{"content":"Думаю, не ошибусь, если промолчу."}'),
    ('{"content":"Как хотите, но таково мое мнение, а если оно вам не нравится, то у меня есть другое."}'),
    ('{"content":"Ночь. Город засыпает. Просыпаются сидящие на диете и идут к холодильнику."}'),
    ('{"content":"Клятвы дают те, кто кроме клятв ничем другим удержать не может. (Дмитрий Гринберг)"}'),
    ('{"content":"У женщины есть три пути сделать карьеру: два спереди и один сзади."}'),
    ('{"content":"Не иди позади меня — возможно, я не поведу тебя. Не иди впереди меня — возможно, я не последую за тобой. Иди рядом, и мы будем одним целым. (Индийская мудрость)"}'),
    ('{"content":"Внутри каждого яблока находится огрызок."}'),
    ('{"content":"Доброта и нежность — это не признак слабости и бессилия, а проявление силы и решимости."}'),
    ('{"content":"Не подражайте другим. Найдите себя и оставайтесь собой, ведь «зависть — это невежество», а «подражание — самоубийство». (Дейл Карнеги)"}'),
    ('{"content":"Нет величия там, где нет простоты, добра и правды. (Л. Толстой)"}'),
    ('{"content":"Не говорите мне, что у вас всё хорошо — мне от этого плохо."}'),
    ('{"content":"Я не такой дурак, как ты выглядишь."}'),
    ('{"content":"Главное не эффект, а эффективность в действиях."}'),
    ('{"content":"Чтобы избегать ошибок, надо набираться опыта; чтобы набираться опыта, надо делать ошибки. (Лоуренс Питер)"}'),
    ('{"content":"И нет величия там, где нет простоты, добра и правды."}'),
    ('{"content":"Родился ты назло презервативу."}'),
    ('{"content":"В основном, свободу человек проявляет только в выборе зависимости. (Герман Гессе)"}'),
    ('{"content":"Тупость и грубость — синонимы тебя."}'),
    ('{"content":"Часто люди гордятся чистотой своей совести только потому, что они обладают короткой памятью."}'),
    ('{"content":"Влюбленную женщину легко заставить делать всё, что ей хочется."}'),
    ('{"content":"Если ты выглядишь, как свинья, то это не значит, что нужно вести себя соответственно."}'),
    ('{"content":"А кое-кто жалеет… Где ты, Кое?"}'),
    ('{"content":"Ты из принципа игнорируешь здравый смысл или у тебя к нему личная неприязнь?"}'),
    ('{"content":"Иногда самое лучшее высказывание — молчание. А самый лучший для себя совет — свой. (Мемуары гейши)"}'),
    ('{"content":"Ой, извини. Кажется, середина моего предложения перебивает начало твоего."}'),
    ('{"content":"Ваши мысли настолько гениальны, что санитары уже приехали!"}'),
    ('{"content":"Истинная щедрость по отношению к будущему — это всё посвятить настоящему. (Альбер Камю)"}'),
    ('{"content":"Забудьте о существовании слова «если». Оно делает нас слабыми, заставляя думать о других возможностях. (Пауло Коэльо)"}'),
    ('{"content":"Назови меня наглецом и ляг со мной в постель."}'),
    ('{"content":"Не существует безвыходных ситуаций, лишних людей, случайных встреч и потерянного времени. (Валерио Альбисетти)"}'),
    ('{"content":"Я не смеюсь над теми, над кем Бог уже поугарал."}'),
    ('{"content":"Да, ваша голова нуждается в прополке…"}'),
    ('{"content":"Истинное величие начинается с понимания собственного ничтожества. (Гете)"}'),
    ('{"content":"Есть женщины в русских селеньях, их бабами нежно зовут. Коня на скаку остановят и хобот ему оторвут."}'),
    ('{"content":"Обделался легким испугом."}'),
    ('{"content":"Если нельзя возразить, то лучше и не слушать."}'),
    ('{"content":"Не можете убедить — сбейте с толку."}'),
    ('{"content":"По факту исчезновения мужа возбуждено два соседа."}'),
    ('{"content":"Я думал, я ошибся, но я ошибся.Собрание мыслей"}'),
    ('{"content":"Все люди такие разные, и только я один такой одинаковый."}'),
    ('{"content":"Жена — это та, единственная и неповторимая вредная привычка, которая может бросить тебя сама!"}'),
    ('{"content":"Умные слова для общения нужно знать, чтобы не прослыть невеждой, если твой собеседник вставляет их через раз."}'),
    ('{"content":"Хотели как лучше, а вспотели как всегда."}'),
    ('{"content":"В гавани корабль в безопасности, но предназначение корабля совсем не в этом. (Джон Шедд)"}'),
    ('{"content":"Красивые и модные умные слова для разговора и общения про любовь: в стихах и прозе."}'),
    ('{"content":"Кто не знает, куда направляется, очень удивляется, попав не туда."}'),
    ('{"content":"Лучший способ испортить удовольствие — превратить его в привычку."}'),
    ('{"content":"Спи быстрей — подушка нужна."}'),
    ('{"content":"Будь проще, и микробиологи к тебе потянутся."}'),
    ('{"content":"В жизни все временно. Так что, если все идет хорошо, наслаждайся – вечно это не продлится. А если все идет плохо – не переживай, это тоже не продлится вечно."}'),
    ('{"content":"Как идиот вы были безупречны."}'),
    ('{"content":"В такую грудь Амур не промахнется."}'),
    ('{"content":"Любовь — ответ на проблему человеческого существования. (Эрих Фромм)"}'),
    ('{"content":"Чем дольше ты держишь всё в себе, копишь и прогибаешься, тем сильнее будет «взрыв», когда ты дойдешь до своей точки кипения."}'),
    ('{"content":"На каждое ваше «увы» есть наше «зато»."}'),
    ('{"content":"Я что-то пропустил? — «Да, одну ступень эволюции»."}'),
    ('{"content":"Когда разговариваешь с очень умным, чувствуешь себя тупым. А когда разговариваешь с тупым, чувствуешь, как тупеешь."}'),
    ('{"content":"Они есть повсюду — эти странные люди, которые не знают, что вчера — это вчера, и которые каждое утро просыпаются с прошлогодними мыслями в голове. (Генри Форд)"}'),
    ('{"content":"Раньше я говорил: » Я надеюсь, что все изменится.» Затем я понял, что существует единственный способ, чтобы все изменилось-измениться мне самому. (Джим Рон)"}'),
    ('{"content":"Нет хорошего — есть то, что нравится тебе. (Слова Ванталы)"}'),
    ('{"content":"Ты и вправду веришь, что подобные реплики поднимают тебя в глазах окружающих?"}'),
    ('{"content":"Лучше — один раз вовремя, чем — два раза неправильно."}'),
    ('{"content":"Вам ответить как: вежливо или честно?"}'),
    ('{"content":"Что-что, а это я умею — тактично приказывать."}'),
    ('{"content":"«У Вас есть сигарета?» — «Есть, спасибо»."}'),
    ('{"content":"Почему твой язык работает быстрее мозга?"}'),
    ('{"content":"Там, где кончается терпение, начинается выносливость."}'),
    ('{"content":"Вот так, шутка за шутку, ежик и получил по морде."}'),
    ('{"content":"Если ты не такой как все, тебя сложнее использовать."}'),
    ('{"content":"Научившись компетентно и искусно вести диалог, можно добиться многих благ как в личной жизни, так и в карьере."}'),
    ('{"content":"В нашей деревне всего два развлечения, и обе уже спят."}'),
    ('{"content":"Я не зеркало, чтобы тебя пугать."}'),
    ('{"content":"Принимайте всё, когда оно приходит к вам, наслаждайтесь всем, пока оно длится, отпускайте всё, когда оно должно уйти. (Нисаргадатта Махарадж)"}'),
    ('{"content":"Умные люди тоже наступают на грабли, но только для того, чтобы поднять их с земли не нагибаясь."}'),
    ('{"content":"Если хотите душевного покоя, бросьте искать недостатки в других. Научитесь принимать каждого, как «своего». Никто вам не чужой, весь мир – ваш."}'),
    ('{"content":"Рот свой у стоматолога открывать будешь!"}'),
    ('{"content":"Некоторым женщинам изнасилование следует расценивать как комплимент."}'),
    ('{"content":"Скажите, вам помочь или не мешать?Умные мысли в голову"}'),
    ('{"content":"В книге «Кто есть кто» тебя следует искать в главе «Что Это»?"}'),
    ('{"content":"Остынь и приляг. Желательно на рельсы."}'),
    ('{"content":"Если что-то в вашей жизни причиняет вам страдания, бегите от этого, дорогие мои, со всех ног и побыстрей. (Анна Гавальда)"}'),
    ('{"content":"Для чего действительно нужна смелость, так это для искренности (Майкл Джексон)"}'),
    ('{"content":"Открывать рот будешь, когда я расстегну ширинку."}'),
    ('{"content":"Иду чувствую сквозняк… а вы тут оказывается воздух пинаете."}'),
    ('{"content":"Твои в лесу грибы и шишки (на заявление — это МОЕ)."}'),
    ('{"content":"Единственное мое желание — чтобы исполнялось всё, что я хочу."}'),
    ('{"content":"Пессимист видит трудности при каждой возможности. Оптимист видит возможности в каждой трудности."}'),
    ('{"content":"Почему в сказке про трёх поросят дунул волк, а крышу снесло поросятам?"}'),
    ('{"content":"О, как морозно в январе, Когда удобства во дворе!…"}'),
    ('{"content":"Оставшись с носом, стал совсем несносен!"}'),
    ('{"content":"Теперь всё утро недолюбленным ходить."}'),
    ('{"content":"Когда говоришь, что думаешь — думай, что говоришь."}'),
    ('{"content":"Скромных людей не бывает. Просто некоторым нечем хвастаться."}'),
    ('{"content":"Курение убивает. А если вы убиты, то теряете важную часть своей жизни."}'),
    ('{"content":"Замысел без умысла называется вымыслом."}'),
    ('{"content":"А твоя сиделка знает, что ты здесь?"}'),
    ('{"content":"Одна пара губ, — чтобы наговорить кучу обидных вещей. И еще две пары, — чтобы попросить за это прощения."}'),
    ('{"content":"Если сейчас же не заткнешься, будешь деснами улыбаться."}'),
    ('{"content":"Тебе что шапка на голове мозоль натёрла?"}'),
    ('{"content":"Нас рано, нас рано мама разбудила. С раками, с раками суп она сварила."}'),
    ('{"content":"Хочешь завтрак в постель — спи на кухне."}'),
    ('{"content":"Будьте мягкими. Не позволяйте миру сделать вас жесткими. Не позволяйте боли заставить вас ненавидеть. Не позволяйте горечи украсть вашу сладость. (Курт Воннегут)"}'),
    ('{"content":"Ты часом не Баран по гороскопу?"}'),
    ('{"content":"О свой скромности я могу говорить часами."}'),
    ('{"content":"Как два байта переслать."}'),
    ('{"content":"Лучше ни черта не делать, чем делать черти что."}'),
    ('{"content":"Что тебе мешает понять это? Лишние хромосомы?"}'),
    ('{"content":"У каждого из нас есть только одно истинное призвание — найти путь к самому себе. (Герман Гессе)"}'),
    ('{"content":"Если ты идешь навстречу, значит, нам не по пути."}'),
    ('{"content":"Ученье — свет, а неученых — тьма…"}'),
    ('{"content":"Ищешь проблему? Я к твоим услугам!"}'),
    ('{"content":"Есть три ловушки, которые воруют радость и мир: сожаление о прошлом, тревога за будущее и неблагодарность за настоящее."}'),
    ('{"content":"Сегодняшний день еще вчера не заладился."}'),
    ('{"content":"Ты снова упустил прекрасный шанс промолчать."}'),
    ('{"content":"Я верю в силу человеческой личности, но ты, видно, не личность."}'),
    ('{"content":"Для такого мнения у вас зубов должно быть в два раза больше."}'),
    ('{"content":"Если бы жизнь не прощала ошибок, мало кто доживал бы до пяти лет."}'),
    ('{"content":"Виски — Вот Иностранцы Срань Какую Изобрели…"}'),
    ('{"content":"Всё самое лучшее случается неожиданно."}'),
    ('{"content":"Главная жизненная задача человека — дать жизнь самому себе. (Эрих Фромм)"}'),
    ('{"content":"Что с памятью? — «Я вам не Википедия, чтобы всё помнить»."}'),
    ('{"content":"Одна боль всегда уменьшает другую. Наступите вы на хвост кошке, у которой болят зубы, и ей станет легче."}'),
    ('{"content":"Я без понтов понтовый, а ты с понтами беспонтовый!Цели реальные"}'),
    ('{"content":"Баранов на шашлык не приглашают."}'),
    ('{"content":"В конце концов, среди концов найдешь конец ты наконец."}'),
    ('{"content":"Если бы мне нравилось общаться с суками, я бы завёл собаку."}'),
    ('{"content":"Первое впечатление от человека — самое верное, так как он еще не знает, что от вас скрывать. (Константин Мелихан)"}'),
    ('{"content":"Ты такой умный — тебе череп не жмет?"}'),
    ('{"content":"А с поцелуями торопиться не будем, — сказал принц, слезая со спящей красавицы."}'),
    ('{"content":"Я не видел ничего потому, что слишком пристально смотрел. (Сёрен Кьеркегор)"}'),
    ('{"content":"Толку мне тебя посылать. Ты и так бываешь там чаще, чем на улице."}'),
    ('{"content":"Ведь кто-то должен тратить Ваши деньги…"}'),
    ('{"content":"Девушка, прикройте колени — и вам теплее будет, и я дрожать перестану."}'),
    ('{"content":"И про старуху бывает порнуха."}'),
    ('{"content":"Люди судят о вещах и событиях в соответствии с тем, что имеют в себе сами. (Преподобный Паисий Святогорец)"}'),
    ('{"content":"Тебе следует пойти в зоопарк, там тебя примут за своего."}'),
    ('{"content":"Творчество состоит в том, чтобы позволить себе совершить ошибки. Искусство — в том, чтобы знать, в каких из них упорствовать"}'),
    ('{"content":"Если бы люди никогда не делали глупостей, то не свершилось бы ничего и умного. (Людвиг Витгенштейн)"}'),
    ('{"content":"Эй, ты, выкидыш беременной селёдки. Ещё одно горбатое слово и будешь всё жизнь двигаться рывками."}'),
    ('{"content":"Чем бы дитя не тешилось, лишь бы соску на пипку не натягивало."}'),
    ('{"content":"Бог его обидел и поступил совершенно правильно."}'),
    ('{"content":"Время лечит, но за деньги получается намного быстрее."}'),
    ('{"content":"Настоящая красота живёт в сердце, отражается в глазах и проявляется в поступках. (Ошо)"}'),
    ('{"content":"Не столько запах плох, насколько чувства наши совершенны."}'),
    ('{"content":"За что ни возьмусь — везде приятно!"}');

exit
```

## Настройка Sphinx

Будте внимательны, изменения затронули и прошлую версию [sphinx,conf](./sphinx.conf) (обнаружил WARNING при `tail /var/log/sphinxsearch/searchd.log`)

```shell
sudo nano /etc/sphinxsearch/sphinx.conf
```

Запуск

```shell

sudo systemctl restart sphinxsearch.service
sudo systemctl status sphinxsearch.service
indexer json_content_idx --rotate
indexer --all --rotate
```

## Выборка по SphinxQL

```shell
mysql -h127.0.0.1 -P9306
```

```mysql-sql
MySQL [(none)]> SELECT * FROM json_content_idx WHERE MATCH('голова'); SHOW META;
+------+
| id   |
+------+
|   14 |
|   15 |
|  195 |
|  237 |
|  307 |
|  333 |
|  353 |
|  374 |
+------+
8 rows in set (0.001 sec)

+---------------+------------+
| Variable_name | Value      |
+---------------+------------+
| total         | 8          |
| total_found   | 8          |
| time          | 0.000      |
| keyword[0]    | голов      |
| docs[0]       | 8          |
| hits[0]       | 8          |
+---------------+------------+
6 rows in set (0.000 sec)

CALL KEYWORDS ('голова мысль идея', 'json_content_idx', 1);
+------+--------------+------------+------+------+
| qpos | tokenized    | normalized | docs | hits |
+------+--------------+------------+------+------+
| 1    | голова       | голов      | 8    | 8    |
| 2    | мысль        | мысл       | 10   | 10   |
| 3    | идея         | иде        | 0    | 0    |
+------+--------------+------------+------+------+
3 rows in set (0.000 sec)

```

## Аспект поиска (актуален и для части №1)

Не найдется пока не проиндексируется.

Добавляем в Postgres:

```postgres-sql
INSERT 
    INTO json_library.documents(data)
VALUES
    ('{"content":"Дройд закоммитил цейтнот"}')
```

Sphinx не найдет:

```mysql-sql
SELECT * FROM json_content_idx WHERE MATCH('дройд'); SHOW META;
Empty set (0.001 sec)

+---------------+------------+
| Variable_name | Value      |
+---------------+------------+
| total         | 0          |
| total_found   | 0          |
| time          | 0.000      |
| keyword[0]    | дройд      |
| docs[0]       | 0          |
| hits[0]       | 0          |
+---------------+------------+
6 rows in set (0.000 sec)


CALL KEYWORDS ('коммит цейтнот', 'json_content_idx', 1);
+------+----------------+----------------+------+------+
| qpos | tokenized      | normalized     | docs | hits |
+------+----------------+----------------+------+------+
| 1    | коммит         | комм           | 0    | 0    |
| 2    | цейтнот        | цейтнот        | 0    | 0    |
+------+----------------+----------------+------+------+
2 rows in set (0.001 sec)
```

Индексируем:

```shell
indexer json_content_idx --rotate

Sphinx 2.2.11-id64-release (95ae9a6)
Copyright (c) 2001-2016, Andrew Aksyonoff
Copyright (c) 2008-2016, Sphinx Technologies Inc (http://sphinxsearch.com)

using config file '/etc/sphinxsearch/sphinx.conf'...
indexing index 'json_content_idx'...
collected 421 docs, 0.1 MB
sorted 0.0 Mhits, 100.0% done
total 421 docs, 57664 bytes
total 0.254 sec, 226748 bytes/sec, 1655.47 docs/sec
total 3 reads, 0.000 sec, 20.7 kb/call avg, 0.0 msec/call avg
total 9 writes, 0.000 sec, 11.2 kb/call avg, 0.0 msec/call avg
rotating indices: successfully sent SIGHUP to searchd (pid=15560).

```

Sphinx теперь найдет:

```mysql-sql
SELECT * FROM json_content_idx WHERE MATCH('дройд'); SHOW META;
+------+
| id   |
+------+
|  421 |
+------+
1 row in set (0.001 sec)

+---------------+------------+
| Variable_name | Value      |
+---------------+------------+
| total         | 1          |
| total_found   | 1          |
| time          | 0.000      |
| keyword[0]    | дройд      |
| docs[0]       | 1          |
| hits[0]       | 1          |
+---------------+------------+
6 rows in set (0.000 sec)

CALL KEYWORDS ('коммит цейтнот', 'json_content_idx', 1);

+------+----------------+----------------+------+------+
| qpos | tokenized      | normalized     | docs | hits |
+------+----------------+----------------+------+------+
| 1    | коммит         | комм           | 0    | 0    |
| 2    | цейтнот        | цейтнот        | 1    | 1    |
+------+----------------+----------------+------+------+
2 rows in set (0.001 sec)

```
